(function(e,t){"use strict";function i(t,i){this.element=t;this.options=e.extend({},r,i);this._defaults=r;this._name=n;this.loading=false;this.init()}var n="simpleInfiniteScroll";var r={offset:0,ajaxOptions:{},callback:null};i.prototype={init:function(){e(this.element).scroll(this.checkPage(this.element,this.options))},checkPage:function(t,n){return function(){var r=this;if(!r.loading){var i=e(t);if(i.scrollTop()>e(document).height()-i.height()-n.offset){r.loading=true;var s={success:function(e,t,i){if(typeof n.callback==="function"){n.callback.call(r,e,t,i)}r.loading=false}};e.extend(n.ajaxOptions,s);e.ajax(n.ajaxOptions)}}}}};e.fn[n]=function(t,r){return this.each(function(){if(!e.data(this,"plugin_"+n)){e.data(this,"plugin_"+n,new i(this,t))}})}})(jQuery)
